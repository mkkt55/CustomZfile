(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-430498cf"],{"3c95":function(t,e,i){},"8d1d":function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("el-row",[i("el-col",{attrs:{offset:1,"element-loading-text":"保存并初始化中."}},[i("h1",[t._v("驱动器列表")]),i("div",{staticStyle:{"margin-top":"20px"}},[i("el-button",{attrs:{type:"primary",size:"mini"},on:{click:t.addDrive}},[t._v("新增")])],1),i("el-table",{staticStyle:{width:"100%"},attrs:{data:t.driveList}},[i("el-table-column",{attrs:{type:"index",label:"序号",width:"100"}}),i("el-table-column",{attrs:{prop:"name",label:"驱动器名称"}}),i("el-table-column",{attrs:{label:"操作",width:"300"},scopedSlots:t._u([{key:"default",fn:function(e){return[[i("el-button",{staticClass:"el-icon-edit",attrs:{slot:"reference",size:"mini",type:"primary"},on:{click:function(i){return t.editDrive(e.row)}},slot:"reference"},[t._v("编辑")]),i("el-button",{staticClass:"el-icon-s-operation",attrs:{slot:"reference",disabled:!e.row.enableCache,size:"mini",type:"primary"},on:{click:function(i){return t.cacheManage(e.row)}},slot:"reference"},[t._v("缓存管理")]),i("el-button",{staticClass:"el-icon-delete",attrs:{size:"mini",type:"danger"},on:{click:function(i){return t.deleteDrive(e.row)}}},[t._v("删除")])]]}}])})],1),i("el-dialog",{attrs:{width:"80%",title:"驱动器设置",visible:t.driveEditDialogVisible,top:"10vh","destroy-on-close":!0},on:{"update:visible":function(e){t.driveEditDialogVisible=e}}},[i("el-form",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],ref:"form",attrs:{"element-loading-text":"保存并初始化中.",id:"siteForm",model:t.driveItem,rules:t.rules,"label-width":"auto","status-icon":!0}},[i("el-row",{attrs:{gutter:50}},[i("el-col",{attrs:{span:12}},[i("el-form-item",{attrs:{label:"驱动器名称",prop:"name"}},[i("el-input",{model:{value:t.driveItem.name,callback:function(e){t.$set(t.driveItem,"name",e)},expression:"driveItem.name"}})],1)],1)],1)],1),i("div",{staticClass:"dialog-footer",staticStyle:{"text-align":"center"},attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{type:"primary",disabled:t.loading},on:{click:function(e){return t.submitForm("form")}}},[t._v("保 存")]),i("el-button",{on:{click:function(e){t.driveEditDialogVisible=!1}}},[t._v("取 消")])],1)],1)],1)],1)},a=[],r={name:"DriveList",data:function(){return{loading:!1,driveList:[],driveItem:{id:0,name:"",creationTime:null},driveEditDialogVisible:!1,rules:{}}},methods:{change:function(){this.$forceUpdate()},editDrive:function(t){this.driveItem.id=t.id,this.driveEditDialogVisible=!0},deleteDrive:function(t){var e=this;this.$confirm("是否确认删除？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning",callback:function(i){"confirm"===i&&e.$http.delete("admin/drive/"+t.id).then((function(t){0===t.data.code?(e.$message.success("删除成功"),e.init()):e.$message.success("删除失败")}))}})},addDrive:function(){Object.assign(this.driveItem,this.$options.data().driveItem),this.driveItem.id=null,this.driveEditDialogVisible=!0},submitForm:function(t){var e=this;this.$refs[t].validate((function(t){if(!t)return!1;e.loading=!0,e.$http.post("admin/drive",e.driveItem).then((function(t){var i=t.data;e.$message({message:i.msg,type:0===i.code?"success":"error",duration:1500}),e.driveEditDialogVisible=!1,e.init(),e.loading=!1})).catch((function(){e.loading=!1}))}))},init:function(){var t=this;this.$http.get("api/drive/list").then((function(e){t.driveList=e.data.data}))}},mounted:function(){this.init()}},o=r,l=(i("fe19"),i("2877")),s=Object(l["a"])(o,n,a,!1,null,"42b23586",null);e["default"]=s.exports},fe19:function(t,e,i){"use strict";var n=i("3c95"),a=i.n(n);a.a}}]);